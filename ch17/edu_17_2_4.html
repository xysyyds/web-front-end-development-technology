<!-- edu_17_2_4.html -->
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Canvas绘制文本、图像、渐变</title>
		<script type="text/javascript">
			function showPage() {
				var myCanvas = document.getElementById("oneCanvas"); //获取Canvas对象		
				var conText = myCanvas.getContext("2d"); //获取绘图环境（上下文环境）对象
				conText.strokeStyle = "rgb(250,0,0)";
				conText.fillStyle = "rgb(0,0,0)"
				// 在X轴150处绘制垂直红线
				conText.textAlign = "start"; //设置提示信息水平对齐方法
				conText.font = "24px 黑体"; //设置提示信息字体
				conText.fillText("文本对齐方式：", 0, 24); //设置提示信息
				conText.strokeStyle = "red";
				conText.moveTo(350, 20);
				conText.lineTo(350, 170);
				conText.stroke();
				//绘制文本-textAlign属性应用
				conText.font = "24px Arial";
				conText.textAlign = "start";
				conText.fillText("在指定位置开始start", 350, 60);
				conText.textAlign = "end";
				conText.fillText("在指定位置结束end", 350, 80);
				conText.textAlign = "center";
				conText.fillText("文本中心在指定位置center", 350, 120);
				conText.lineWidth = 1;
				conText.fill();
				//在Y轴250处画一条水平红线
				conText.textAlign = "start"; //设置提示信息水平对齐方法
				conText.font = "24px 黑体"; //设置提示信息字体
				conText.fillText("文本基线位置：", 0, 220); //设置提示信息
				conText.strokeStyle = "red";
				conText.moveTo(0, 250);
				conText.lineTo(700, 250);
				conText.stroke();
				//每个在y = 250处设置不同的textbaseline值，显示单词的位置
				conText.font = "20px Arial";
				conText.textBaseline = "top";
				conText.fillText("Top-Hag", 20, 250); //Hag表示字母组合
				conText.textBaseline = "bottom";
				conText.fillText("Bottom-aXg", 100, 250); //aXg表示字母组合
				conText.textBaseline = "middle";
				conText.fillText("Middle", 220, 250);
				conText.textBaseline = "alphabetic";
				conText.fillText("Alphabetic-aXg", 300, 250); //aXg表示字母组合
				conText.textBaseline = "ideographic";
				conText.fillText("ideographic-aXg", 460, 250); //aXg表示字母组合
				conText.textBaseline = "hanging";
				conText.fillText("Hanging", 620, 250);
				//绘制渐变
				conText.font = "20px 黑体";
				conText.textBaseline = "bottom";
				conText.fillText("渐变：", 0, 320);
				var grad = conText.createLinearGradient(50, 280, 400, 50); //创建线条渐变
				grad.addColorStop(0, "#FF0000"); //设置渐变停止颜色1
				grad.addColorStop(1, "#00FF00"); //设置渐变停止颜色2
				conText.fillStyle = grad; //设置填充样式为渐变
				conText.fillRect(50, 280, 400, 50); //填充矩形
				/*绘制图像*/
				var myCanvas = document.getElementById("oneCanvas"); //获取Canvas对象		
				var conText = myCanvas.getContext("2d"); //获取绘图环境（上下文环境）对象
				conText.font = "20px 黑体";
				conText.textBaseline = "bottom";
				conText.fillText("图像：", 0, 380);
				var img = new Image();
				img.src = "image-17-2-4.jpg";
				conText.drawImage(img, 50, 380); //在指定位置处开始绘图
				conText.drawImage(img, 450, 680, 100, 100); //按指定宽度和高度绘图
				/* 选取图像的部分矩形区域进行绘制 */
				conText.drawImage(img, 200, 200, 100, 100, 550, 660, 120, 120);
				/* 图像圆形剪裁 */
				conText.fillStyle = "#F8F8F8"; //填充样式
				conText.fillRect(680, 378, 400, 400); //填充
				conText.beginPath(); //开始路径
				conText.arc(890, 578, 100, 0, Math.PI * 2, true); //形成圆形路径
				conText.closePath(); //结束路径   
				conText.clip(); //圆形剪裁
				conText.drawImage(img, 680, 378); //按圆形剪裁图像，其余部分不可见
			}
		</script>
	</head>
	<body onload="showPage();">
		<div>
			<img src="image-17-2-4.jpg" id="myimg" style="float:left;" />
			<canvas id="oneCanvas" width="1100" height="800" style="background:#F0F0F0;"></canvas>
		</div>
	</body>
</html>
